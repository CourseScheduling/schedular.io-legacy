extends ../MainTemplate

block headContent
    link(rel="stylesheet",href="/css/builder.main.css")
    title="Schedule Builder"
    style.
        .date-0{
            border-left-color:transparent;
        }
        .seasonToolTip{
            font-family:Open Sans;
            font-size:12px;
            font-weight:100;
            color:#FFF;
            background-color:#2c3e50;
            padding:5px;
            border-radius:3px;
            position:absolute;
        }
block bodyContent
    div(style="position:absolute;top:70px;left:0px;text-align:center;width:100%;")
        label( id="notif" style="padding:5px 20px 5px 20px;background:#1abc9c;color:#FFF;font-size:12px;font-weight:300;font-family:Open Sans;") auto-saved at 2:05am
    div(id="crnBar-wrap" )
        input(style="width:200px;color:#222;background:#EEE;border:0;padding:7px;outline:0;font-family:Open Sans;font-size:11px;margin-top:10px;" placeholder="Type to find more courses")
        input(style="height:29px;width:29px;border:0;padding:0;float:left;margin-top:10px;background:url(/images/magnifyingGlass.png) #EEE center center no-repeat;background-size:60%;outline:0;" type="button" value="")
        br
        ul( id="crnBar" style="margin-top:-20px;float:left;padding-left:0;")
            br
            br
    div(id="b-builderWrap" style="float:right;margin-left:-200px;position:absolute;top:123px;left:50%;width:704px;")
        p(style="font-family:Raleway;font-size:25px;text-align:center;font-weight:300;margin-top:0;") Your Schedule
        div(style="float:right;width:200px;margin-top:-60px;text-align:right;padding-right:20px;")
            img(class="builder-toolIcon" data-toolText="Save This Schedule" src="/images/cloudSave.png" height="45px" style="cursor:pointer;")
            img(class="builder-toolIcon" data-toolText="Take a Picture" src="/images/cameraWire.png" height="35px" style="margin-left:10px;margin-bottom:4px;cursor:pointer;")
            img(class="builder-toolIcon" data-toolText="Generate Link" src="/images/link.png" height="22px" style="margin-left:15px;margin-bottom:10px;cursor:pointer;")
        input(id="b-crnInput" placeholder="Enter CRNs with a comma inbetween e.g. 10973,10981,10921")
        div(class="b-scheduleWrap" data-crn="" style="float:left;")
            div(class="b-dayLabelWrap")
                each day,index in ['','Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday']
                    div(class="b-dayLabel date-"+index)=day
            br
            div(class="b-timeLabelWrap")
                each time, index in ['8:00 am','9:00 am','10:00 am','11:00 am','12:00 am','1:00 pm','2:00 pm','3:00 pm','4:00 pm','5:00 pm','6:00 pm','7:00 pm','8:00 pm','9:00 pm']
                    div(class="b-timeLabel" style="top:"+((index*40)-1)+'px')=time

            div(id="b-timeBlockWrap" class="b-timeBlockWrap")
                div(style="font-family:Open Sans;font-weight:100;font-size:20px;width:200px;position:absolute;left:200px;top:100px;")
                    | You haven't put it in any courses. Use the search bar on the left to search for some.
    script(src="/js/builder.main.js")
    script.    
        [].forEach.call(document.getElementsByClassName('builder-toolIcon'),function(v,i,a){
            v.addEventListener('mouseover',function(){
                var top =   (v.getBoundingClientRect().top-35)+'px';
                var toolTip =   document.createElement('div');
                document.body.appendChild(toolTip);
                toolTip.className   =   'seasonToolTip';
                toolTip.innerHTML=v.getAttribute('data-toolText');
                var left    =   (v.getBoundingClientRect().left-(toolTip.getBoundingClientRect().width-v.getBoundingClientRect().width)/2)+'px';
                toolTip.style.top   =   top;
                toolTip.style.left =   left;
            });
            v.addEventListener('mouseout',function(){
                var a = document.getElementsByClassName('seasonToolTip');
                while(a.length){
                    a[0].parentNode.removeChild(a[0]);
                }
            });
        });